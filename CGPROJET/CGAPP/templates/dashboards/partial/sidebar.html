{% load static %}

<div class="sidebar pe-4 pb-3">
    <nav class="navbar bg-light navbar-light">
        <a href="{% url 'home' %}" class="navbar-brand mx-4 mb-3">
            <h3 class="text-primary">
                <img class="rounded-circle w-150" src="{% static 'troczone2.png' %}" alt="" style="width: 40px; height: 40px;">
            </h3>
        </a>

        <div class="d-flex align-items-center ms-4 mb-4">
            <div class="position-relative">
                <img class="rounded-circle" src="{% static 'admin/img/user.jpg' %}" alt="" style="width: 40px; height: 40px;">
                <div class="bg-success rounded-circle border border-2 border-white position-absolute end-0 bottom-0 p-1"></div>
            </div>
            <div class="ms-3">
                <h6 class="mb-0">{{ user.username }}</h6>
                <span>{{ user.date_joined|date }}</span>
            </div>
        </div>

        <div class="navbar-nav w-100">

            {% if user.role == 'gerant' %}
                <a href="{% url 'dashboard_gerant' %}" class="nav-item nav-link active">
                    <i class="fa fa-home me-2"></i>Dashboard
                </a>

                <a href="{% url 'liste_produits' %}" class="nav-item nav-link">
                    <i class="fa fa-box me-2"></i>Gestion Produits
                </a>

                <a href="#" class="nav-item nav-link">
                    <i class="fa fa-tags me-2"></i>Gestion Catégories
                </a>

                <a href="{%url 'liste_serveurs'%}" class="nav-item nav-link">
                    <i class="fa fa-user-friends me-2"></i>Gestion Serveurs
                </a>

                <a href="#" class="nav-item nav-link">
                    <i class="fa fa-receipt me-2"></i>Gestion Cmd
                </a>

                <a href="#" class="nav-item nav-link">
                    <i class="fa fa-warehouse me-2"></i>Gestion Stock
                </a>

              

                <a href="{% url 'profile' %}" class="nav-item nav-link">
                    <i class="fa fa-user-circle me-2"></i>Profil
                </a>

                <a href="{% url 'deconnexion' %}" class="nav-item nav-link text-danger">
                    <i class="fa fa-sign-out-alt me-2"></i>Déconnexion
                </a>


            
            {% elif user.role == 'client' %}
                <a href="#" class="nav-item nav-link active"><i class="fa fa-home me-2"></i>Dashboard</a>
                
            {% elif user.role == 'admin' %}
                <a href="{% url 'dashboard_admin' %}" class="nav-item nav-link {% if request.resolver_match.url_name == 'dashboard_admin' %}active{% endif %}">
                    <i class="fa fa-home me-2"></i>Dashboard
                </a>

                <a href="{% url 'creer_gerant' %}" class="nav-item nav-link">
                    <i class="fa fa-user-plus me-2"></i>Ajout Gérant
                </a>

                <a href="{% url 'creer_serveur' %}" class="nav-item nav-link">
                    <i class="fa fa-user-plus me-2"></i>Ajout Serveur
                </a>

                <a href="{% url 'liste_utilisateurs' %}" class="nav-item nav-link">
                    <i class="fa fa-users me-2"></i>Liste utilisateurs
                </a>

                <a href="{% url 'historique_actions' %}" class="nav-item nav-link">
                    <i class="fa fa-history me-2"></i>Historique
                </a>

                <a href="#" class="nav-item nav-link">
                    <i class="fa fa-cogs me-2"></i>Paramètres
                </a>
                 <a href="{% url 'liste_produits' %}" class="nav-item nav-link">
                    <i class="fa fa-box me-2"></i>Gestion Produits
                </a>

                <a href="#" class="nav-item nav-link">
                    <i class="fa fa-tags me-2"></i>Gestion Catégories
                </a>

                <a href="{%url 'liste_serveurs'%}" class="nav-item nav-link">
                    <i class="fa fa-user-friends me-2"></i>Gestion Serveurs
                </a>

                <a href="#" class="nav-item nav-link">
                    <i class="fa fa-receipt me-2"></i>Gestion Cmd
                </a>

                <a href="#" class="nav-item nav-link">
                    <i class="fa fa-warehouse me-2"></i>Gestion Stock
                </a>

              

                <a href="{% url 'profile' %}" class="nav-item nav-link">
                    <i class="fa fa-user-circle me-2"></i>Profil
                </a>

                <a href="{% url 'deconnexion' %}" class="nav-item nav-link text-danger">
                    <i class="fa fa-sign-out-alt me-2"></i>Déconnexion
                </a>
               

            {% elif user.role == 'serveur' %}
                <a href="#" class="nav-item nav-link"><i class="fa fa-tasks me-2"></i>Tâches Assignées</a>
                <a href="#" class="nav-item nav-link"><i class="fa fa-truck me-2"></i>Livraisons</a>
            {% endif %}

        </div>
    </nav>
</div>
<style>
.nav-link {
    transition: background-color 0.3s ease, color 0.3s ease;
    border-radius: 0.375rem; /* arrondi pour l’effet bouton */
    padding: 10px 15px;
}

.nav-link:hover {
    background-color: #f0f0f0;
    color: #0d6efd; /* bleu Bootstrap */
}

.nav-link.active {
    background-color: #0d6efd; /* bleu Bootstrap */
    color: white;
    font-weight: 500;
}

</style>